<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="shortcut icon" href="../images/bmc-it-club-circle-logo.ico" type="image/x-icon">
    <meta name="keyword"
        content="CodeOlympiad register, codeolympiad,Code Olympiad 2081, BMC IT Club, coding competition Bhairahawa, coding skills championship, Arun Neupane, arundada9000" />

    <meta name="description"
        content="Join the BMC IT Club's Code Olympiad 2081 in Bhairahawa. Test your coding skills, compete for amazing prizes, and enhance your expertise in a dynamic competition!" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/register.css">
</head>

<body>
    <header class="header">
        <h1 class="title">Code Olympiad Registration</h1>
        <p>Think it, Code it, Qwn it – Register now!</p>
        <p class="subtitle">Join the ultimate coding showdown and showcase your skills!</p>
        <p class="remaining-days" id="remainingDays">Calculating days to register...</p>
    </header>

    <main class="form-container">
        <form id="team-registration-form" action="https://api.web3forms.com/submit" method="post">
            <fieldset>
                <input type="hidden" name="access_key" value="683c630a-19ea-426c-a560-3148bd42d8dd">
                <input type="hidden" name="from_name" value="Code Olympiad Form Submission">

                <!-- Team Information -->
                <legend class="legend">Participant Information</legend>

                <div class="form-group">
                    <input type="text" name="Team-Name" id="team-name" placeholder=" " required>
                    <label for="team-name">Team Name</label>

                </div>
                <div class="form-group">
                    <input type="text" name="Team-Captain" id="team-captain" placeholder=" " required>
                    <label for="team-captain">Team Captain's Name</label>
                </div>
                <div class="form-group">
                    <input type="email" name="Email" id="email" placeholder=" " required>
                    <label for="email">Email</label>
                </div>
                <div class="form-group">
                    <select name="Campus" id="selected-campus" class="styled-select" required>
                        <option value="" selected disabled hidden></option>
                        <option value="Bhairahawa-Multiple-Campus">Bhairahawa Multiple Campus</option>
                        <option value="other">Other</option>
                    </select>
                    <label for="selected-campus" class="floating-label">Campus</label>
                </div>

                <div id="custom-campus-container" class="form-group">
                    <input name="Other-campus" type="text" id="custom-campus" placeholder=" ">
                    <label for="custom-campus">Campus Name</label>
                </div>

                <div class="form-group">
                    <input type="tel" name="Phone-Number" id="team-phone" placeholder=" " pattern="^(98|97)\d{8}$"
                        required>
                    <label for="team-phone">Team Phone Number</label>
                </div>
                <!-- Team Members -->
                <div class="form-group">
                    <input type="number" name="Team-Member-Count" id="member-count" min="1" max="4" placeholder=" "
                        required>
                    <label for="member-count">Number of Team Members (max 4)</label>
                </div>
                <div id="members-container"></div>
                <!-- Preferred Programming Languages -->
                <div class="form-group">
                    <select name="preferred-language" id="preferred-language" class="styled-select" required>
                        <option value="" disabled selected hidden></option>
                        <option value="c">C</option>
                        <option value="c++">C++</option>
                        <option value="c#">C#</option>
                        <option value="java">Java</option>
                        <option value="python">python</option>
                        <option value="ruby">Ruby</option>
                        <option value="rust">Rust</option>
                        <option value="other">Other</option>
                    </select>
                    <label for="preferred-language" class="floating-label">Preferred Programming Languages</label>

                </div>

                <div id="custom-language-container" class="form-group">
                    <input name="Custom-Language" type="text" id="custom-language" placeholder=" ">
                    <label for="custom-language">Specify Other Language</label>
                </div>

                <div class="form-group">
                    <select id="category" name="category" class="styled-select">
                        <option value="" disabled selected hidden></option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <label for="category" class="floating-label">Category</label>
                </div>

                <div class="payment-gateways">
                    <div class="form-group">
                        <select id="payment-method" name="Payment-Method" class="styled-select" required>
                            <option value="" disabled selected hidden></option>
                            <option value="esewa">Esewa</option>
                            <option value="bank">Bank Transfer</option>
                        </select>
                        <label for="payment-method" class="floating-label">Payment Method</label>
                    </div>

                    <div class="payment-img">
                        <div class="photo-container esewa">
                            <img src="../payment/bijay-esewa.jpg" alt="Bijay Esewa" class="photo-thumbnail"
                                id="photo-thumbnail">

                            <div class="download-button-container">
                                <a href="../payment/bijay-esewa.jpg" download="Esewa-code-olympiad.jpg"
                                    class="download-btn">Download
                                    Photo</a>
                            </div>

                            <div class="photo-fullscreen" id="photo-fullscreen">
                                <img src="../payment/bijay-esewa.jpg" alt="Esewa fullscreen view"
                                    class="fullscreen-img">
                                <span class="close-btn" id="close-btn">&times;</span>
                            </div>
                        </div>

                        <div class="photo-container bank">
                            <img src="../payment/arun-bank.jpg" alt="Arun Bank" class="photo-thumbnail"
                                id="photo-thumbnail">

                            <div class="download-button-container">
                                <a href="../payment/arun-bank.jpg" download="Bank-code-olympiad.jpg"
                                    class="download-btn">Download
                                    Photo</a>
                            </div>

                            <div class="photo-fullscreen" id="photo-fullscreen">
                                <img src="../payment/arun-bank.jpg" alt="Bank fullscreen view" class="fullscreen-img">
                                <span class="close-btn" id="close-btn">&times;</span>
                            </div>
                        </div>
                    </div>
                    <p>Please confirm your registration here <a href="tel:+9779811420975">9811420975</a></p>
                </div>
                <!-- Buttons -->
                <div class="button-group">
                    <button type="submit" class="btn submit" id="submit-btn">Submit</button>
                    <button type="reset" class="btn clear">Clear</button>
                </div>
            </fieldset>
        </form>
    </main>

    <footer class="footer">
        <p>Your journey to coding greatness starts here.</p>
        <p>Designed with ❤️ for the Code Olympiad</p>
    </footer>

    <script>
        // Countdown for registration deadline
        const remainingDaysElement = document.getElementById("remainingDays");

        function calculateRemainingDays() {
            const currentDate = new Date();
            const targetDate = new Date("2025-01-13");
            const difference = targetDate - currentDate;

            if (difference > 0) {
                const daysLeft = Math.floor(difference / (1000 * 60 * 60 * 24));
                remainingDaysElement.textContent = `${daysLeft} days left to register!`;
            } else {
                remainingDaysElement.textContent = "Registration closed!";
            }
        }

        calculateRemainingDays();

        // Select styling
        document.querySelectorAll('.styled-select').forEach((select) => {
            select.addEventListener('change', () => {
                if (select.value) {
                    select.classList.add('filled');
                } else {
                    select.classList.remove('filled');
                }
            });
        });

        // Campus
        const selectedCampus = document.getElementById("selected-campus");
        const customCampusContainer = document.getElementById("custom-campus-container");
        const customCampusInput = document.getElementById("custom-campus");
        selectedCampus.addEventListener("change", () => {
            const selectedLanguage = selectedCampus.value;
            if (selectedLanguage === "other") {
                customCampusContainer.style.display = "block";
                customCampusInput.setAttribute("required", "true");
                paymentGateway(true);
            }
            else {
                customCampusContainer.style.display = "none";
                customCampusInput.removeAttribute("required", "true");
                paymentGateway(false);
            }

        });


        // Language
        const preferredLanguage = document.getElementById("preferred-language");
        const customLanguageContainer = document.getElementById("custom-language-container");
        const customLanguageInput = document.getElementById("custom-language");

        preferredLanguage.addEventListener("change", () => {
            const selectedLanguage = preferredLanguage.value;
            if (selectedLanguage === "other") {
                customLanguageContainer.style.display = "block";
                customLanguageInput.setAttribute("required", "true");
            }
            else {
                customLanguageContainer.style.display = "none";
                customLanguageInput.removeAttribute("required", "true");
            }
        });

        //Payment Method
        const paymentMethod = document.getElementById("payment-method");

        paymentMethod.addEventListener("change", () => {
            const selectedPayment = paymentMethod.value;
            if (selectedPayment === "esewa") {
                document.querySelector(".esewa").style.display = "block";
                document.querySelector(".bank").style.display = "none";
            }
            else {
                document.querySelector(".bank").style.display = "block";
                document.querySelector(".esewa").style.display = "none";
            }
        });
        function paymentGateway(other) {
            if (other) {
                document.querySelector(".payment-gateways").style.display = "block";
                paymentMethod.setAttribute("required", "true");
            }
            else {
                document.querySelector(".payment-gateways").style.display = "none";
            }
        }
        // Select elements
        const photoThumbnail = document.getElementById("photo-thumbnail");
        const photoFullscreen = document.getElementById("photo-fullscreen");
        const closeBtn = document.getElementById("close-btn");

        // Show fullscreen photo on click
        photoThumbnail.addEventListener("click", () => {
            photoFullscreen.style.display = "flex";
        });

        // Close fullscreen photo
        closeBtn.addEventListener("click", () => {
            photoFullscreen.style.display = "none";
        });

        // Close fullscreen when clicking outside the image
        photoFullscreen.addEventListener("click", (event) => {
            if (event.target === photoFullscreen) {
                photoFullscreen.style.display = "none";
            }
        });


        document.getElementById("member-count").addEventListener("input", function () {
            let memberCount = parseInt(this.value) || 0;
            const membersContainer = document.getElementById("members-container");
            membersContainer.innerHTML = "";
            if (memberCount > 4) {
                memberCount = 4;
            }
            if (memberCount < 1) {
                memberCount = 1;
            }
            for (let i = 1; i <= memberCount; i++) {
                const memberDiv = document.createElement("div");
                memberDiv.classList.add("member-input");
                memberDiv.innerHTML = `
            <h3>Member ${i}</h3>
            <div class="form-group">
                <input name="Member-${i}-Name" type="text" id="member-${i}-name" placeholder=" " required>
                <label for="member-${i}-name">Name</label>
            </div>
            <div class="form-group">
                <select name="Member-${i}-Study" id="member-${i}-study" class="styled-select" required>
                    <option value="" disabled selected hidden></option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="1st Semester">1st Semester</option>
                    <option value="2nd Semester">2nd Semester</option>
                    <option value="3rd Semester">3rd Semester</option>
                    <option value="4th Semester">4th Semester</option>
                    <option value="5th Semester">5th Semester</option>
                    <option value="6th Semester">6th Semester</option>
                    <option value="7th Semester">7th Semester</option>
                    <option value="8th Semester">8th Semester</option>
                </select>
                <label for="member-${i}-study" class="floating-label">Current Study</label>
            </div>
            <div class="form-group">
                <input name="Member-${i}-Phone" type="tel" id="member-${i}-phone" placeholder=" " pattern="^(98|97)\\d{8}$">
                <label for="member-${i}-phone">Phone Number</label>
            </div>
        `;
                membersContainer.appendChild(memberDiv);
            }
        });

        const form = document.querySelector('form');
        const submitButton = document.getElementById('submit-btn');

        form.addEventListener('submit', function (event) {
            event.preventDefault();

            submitButton.textContent = 'Submitting...';

            const formData = new FormData(form);

            fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData,
            })
                .then(response => response.json()) // Parse response as JSON
                .then(data => {
                    if (data.success) {
                        submitButton.value = 'Submitted';
                        setTimeout(() => {
                            submitButton.textContent = 'See you at BMC';
                            submitButton.disabled = true; // Disable button
                        }, 5000);
                        form.reset();
                    } else {
                        submitButton.textContent = 'Error, Try Again';
                        console.error('Error:', data.message);
                        setTimeout(() => {
                            submitButton.textContent = 'Submit';
                        }, 5000);
                    }
                })
                .catch(error => {
                    console.error('Error submitting form:', error);
                    submitButton.value = 'Error, Try Again';
                    setTimeout(() => {
                        submitButton.textContent = 'Submit';
                    }, 5000);
                });
        });

    </script>
</body>

</html>